---
import dayjs from 'dayjs'
import BaseLayout from '../layouts/BaseLayout.astro'
import BlockTitle from '../components/BlockTitle.astro'
import YearBlogList from '../components/YearBlogList.astro'
import EmailLink from '../components/LinkComponents/EmailLink.astro'
import ReactLink from '../components/LinkComponents/ReactLink.astro'
import NestJsLink from '../components/LinkComponents/NestJsLink.astro'
import VueLink from '../components/LinkComponents/VueLink.astro'
import NodeJsLink from '../components/LinkComponents/NodeJsLink.astro'
import GolangLink from '../components/LinkComponents/GolangLink.astro'
import TwitterLink from '../components/LinkComponents/TwitterLink.astro'
import GithubLink from '../components/LinkComponents/GithubLink.astro'
import AstroLink from '../components/LinkComponents/AstroLink.astro'

const allPosts = await Astro.glob('../pages/posts/*.{md,mdx}')
const allWeeks = await Astro.glob('../pages/weekly/*.{md,mdx}')
const allBlogs = [...allPosts, ...allWeeks]
const postCollects = {}
allBlogs.forEach((item) => {
  const { pubDate } = item.frontmatter
  const year = dayjs(pubDate).year()
  if (postCollects[year]) {
    postCollects[year].push(item)
  } else {
    postCollects[year] = [item]
  }
})

const pageTitle = 'AqingCyan'
---

<BaseLayout pageTitle={pageTitle}>
  <BlockTitle title="å…³äºæˆ‘" backgroundText="AqingCyan" />

  <p class="about-me">
    Hi! æˆ‘æ˜¯ AqingCyan ğŸ‘‹
    <br />
    æ˜¯å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œç›®å‰å°±èŒäºç½‘æ˜“ï¼Œè´Ÿè´£å‡å­¦ä¸šåŠ¡çš„å¼€å‘ï¼Œä¹Ÿä½¿ç”¨
    <NodeJsLink text="node.js" href="/tags/node.js" /> æ‰¿æ‹…ä¸€éƒ¨åˆ†åç«¯å¼€å‘çš„å·¥ä½œã€‚ç›®å‰è¿˜æ²¡æœ‰æ˜ç¡®çš„ç ”ç©¶æ–¹å‘ï¼Œä½†å¯¹äºå…¨æ ˆå¼€å‘é¢‡æ„Ÿå…´è¶£ã€‚æˆ‘ç†Ÿæ‚‰
    <ReactLink text="React" href="/tags/react.js" /> ä»¥åŠå‘¨è¾¹ç”Ÿæ€ï¼Œä½¿ç”¨
    <NestJsLink text="Nest" href="/tags/nest.js" /> å¼€å‘æˆ‘çš„å…¨æ ˆé¡¹ç›®ï¼Œæ­£åœ¨å­¦ä¹ 
    <VueLink text="Vue" href="/tags/vue" /> ä¸
    <GolangLink text="Golang" href="/tags/golang" />ï¼Œå¸Œæœ›èƒ½å¤Ÿä½¿ç”¨å®ƒä»¬åšå‡ºæœ‰æ„æ€çš„æˆæœã€‚ä½ å¯ä»¥é€šè¿‡ï¼š
    <EmailLink text="æˆ‘çš„é‚®ç®±" href="mailto:AqingCyan@gmail.com" />ã€
    <TwitterLink text="æ¨ç‰¹" href="https://twitter.com/purexitong0101" />ã€
    <GithubLink text="Github" href="https://github.com/aqingcyan" />
    æ¥ä¸æˆ‘å–å¾—è”ç³»ã€‚
    <br />
    æœ¬åšå®¢æ˜¯ç”±æˆ‘è‡ªå·±ä¸»å¯¼è®¾è®¡å¹¶åŸºäº <AstroLink text="Astro" href="https://astro.build/" /> å¼€å‘ï¼Œå¦‚æœä½ å–œæ¬¢æ­¤åšå®¢æ¨¡æ¿ï¼Œå¯ä»¥
    Fork æœ¬ä»“åº“è¿›è¡ŒäºŒæ¬¡æ”¹é€ ã€‚æ„Ÿè°¢ä½ è¯»åˆ°æ­¤å¤„ï¼
  </p>

  <BlockTitle title="åšå®¢" backgroundText="Blogs" />
  {
    Object.entries(postCollects)
      .sort((postOne, postTwo) => parseInt(postTwo[0]) - parseInt(postOne[0]))
      .map((item) => <YearBlogList year={item[0]} thisYearList={item[1]} />)
  }
</BaseLayout>

<style>
  .about-me {
    margin: 0 0 3rem 0;
    font-size: 1rem;
    line-height: 2.5rem;
    color: var(--primary-color);
  }

  @media screen and (max-width: 500px) {
    .about-me {
      margin-bottom: 2rem;
      line-height: 2.2rem;
    }
  }
</style>
